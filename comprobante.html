<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalle del movimiento</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
    <script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">



    <!-- SF Pro Display: Números geométricos modernos -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <!-- Nunito Sans: Números redondos y geométricos -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <!-- Work Sans: Números geométricos limpios -->
    <link
        href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <!-- Outfit: Números geométricos modernos -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <!-- Roboto base -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap"
        rel="stylesheet" />

    <style>
        :root {
            font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
                Helvetica, Arial, sans-serif;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            background: #fcf7fb;
            padding: 0;
        }

        .header {
            background: transparent;
            color: #1e0420;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            display: grid;
            grid-template-columns: 3fr 1fr;
        }

        .header i {
            font-size: 20px;
            cursor: pointer;
        }

        h2 {
            font-size: 18px;
            margin: 0;
        }

        .container {
            padding: 20px;
            background-image: url('./ico/fondoooo.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            margin: 15px;
            border-radius: 12px;
        }

        .estado {
            color: #bf5972;
            font-weight: 300;
            font-size: 17px;
            margin-bottom: 15px;
            margin-top: 13%;
        }

        .qr {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        #qr-container canvas {
            border: solid 5px #c5efdd;
            border-radius: 5px;
            margin-top: 22%;
        }

        .info label {
            color: #555;
            font-size: 16px;
            margin-top: 10px;
            display: block;
        }

        .info p {

            font-size: 18px;
            margin: 3px 0 10px;
            color: #37283a;

        }

        .btn {
            margin: 30px 0 10px;
            background: #ec008c;
            color: white;
            border: none;
            width: 100%;
            padding: 18px;
            border-radius: 5px;
            font-size: 17px;
            cursor: pointer;
        }

        .footnote {
            text-align: center;
            font-size: 13px;
            color: #464046;
            margin-top: -10px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            text-align: left;
        }
    </style>
</head>

<body>
    <div class="header">
        <div style="display: flex; align-items: center; gap: 10px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor"
                class="bi bi-arrow-left-short" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5" />
            </svg>
            <h2 style="margin: 0; font-size: 18px;">Detalle del movimiento</h2>
        </div>
        <div style="display: flex; align-items: center; gap: 12px;">
            <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-question-lg"
                viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M4.475 5.458c-.284 0-.514-.237-.47-.517C4.28 3.24 5.576 2 7.825 2c2.25 0 3.767 1.36 3.767 3.215 0 1.344-.665 2.288-1.79 2.973-1.1.659-1.414 1.118-1.414 2.01v.03a.5.5 0 0 1-.5.5h-.77a.5.5 0 0 1-.5-.495l-.003-.2c-.043-1.221.477-2.001 1.645-2.712 1.03-.632 1.397-1.135 1.397-2.028 0-.979-.758-1.698-1.926-1.698-1.009 0-1.71.529-1.938 1.402-.066.254-.278.461-.54.461h-.777ZM7.496 14c.622 0 1.095-.474 1.095-1.09 0-.618-.473-1.092-1.095-1.092-.606 0-1.087.474-1.087 1.091S6.89 14 7.496 14" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-share"
                viewBox="0 0 16 16">
                <path
                    d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.5 2.5 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5m-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3" />
            </svg>
        </div>
    </div>


    <div class="container">
        <div class="estado">
            <svg xmlns="http://www.w3.org/2000/svg" color="#bf5972" width="16" height="16" fill="currentColor"
                class="bi bi-arrow-down-circle" viewBox="0 0 16 16">
                <path fill-rule="evenodd"
                    d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z" />
            </svg>
            Envío Realizado
        </div>

        <div class="qr">
            <div id="qr-container"></div>
        </div>

        <p class="footnote">
            <svg xmlns="http://www.w3.org/2000/svg" color="#221124" width="25" height="25" fill="none"
                viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="11" fill="#fff" stroke="#221124" stroke-width="2" />
                <path
                    d="M12 7.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Zm.9 2.4h-1.8a.1.1 0 0 0-.1.1v7.3a.1.1 0 0 0 .1.1h1.8a.1.1 0 0 0 .1-.1v-7.3a.1.1 0 0 0-.1-.1Z"
                    fill="#221124" />
            </svg>

            ¡Escanea este QR con Nequi para verificar tu envío al instante!
        </p>

        <div class="info">
            <label>Para</label>
            <p id="nombre">----</p>

            <label>¿Cuánto?</label>
            <p id="monto">----</p>

            <label>Número Nequi</label>
            <p id="numero">----</p>

            <label>Fecha</label>
            <p id="fecha">----</p>

            <label>Referencia</label>
            <p id="referencia">----</p>

            <label>¿De dónde salió la plata?</label>
            <p>Disponible</p>
        </div>

        <button class="btn" onclick="window.location.href='index.html'">Listo</button>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const nombre = params.get('nombre') || '---';
        const monto = params.get('monto') || '$ 0';
        const numero = params.get('numero') || '000 000 0000';

        function formatearFechaNequi(fecha) {
            const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];
            const dia = fecha.getDate();
            const mes = meses[fecha.getMonth()];
            const año = fecha.getFullYear();

            let horas = fecha.getHours();
            const minutos = fecha.getMinutes().toString().padStart(2, '0');
            const ampm = horas >= 12 ? 'p. m.' : 'a. m.';
            horas = horas % 12 || 12;

            return `${dia} de ${mes} de ${año} a las ${horas}:${minutos} ${ampm}`;
        }

        document.getElementById('nombre').textContent = nombre;
        document.getElementById('monto').textContent = monto;
        document.getElementById('numero').textContent = numero;
        document.getElementById('fecha').textContent = formatearFechaNequi(new Date());
        document.getElementById('referencia').textContent = 'M' + Math.floor(Math.random() * 100000000);

        const qrData = `https://nequi.com/confirmacion?ref=${Math.random().toString(36).substring(7)}`;
        const qrCode = new QRCodeStyling({
            width: 150,
            height: 150,
            data: qrData,
            image: "./ico/nlogo.png",
            dotsOptions: {
                color: "#000",
                type: "square"
            },
            imageOptions: {
                crossOrigin: "anonymous",
                margin: 4,
                imageSize: 0.3
            },
            backgroundOptions: {
                color: "#ffffff"
            }
        });

        qrCode.append(document.getElementById("qr-container"));
    </script>
</body>

</html>
